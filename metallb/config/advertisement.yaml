apiVersion: metallb.io/v1beta1
kind: L2Advertisement
metadata:
  name: advertisel2-pool01
  namespace: metallb-system
spec:
  ipAddressPools:
  - pool01-argocd
  nodeSelectors:
  - kubernetes.io/hostname: k8s-worker-01
  - kubernetes.io/hostname: k8s-worker-02
  - kubernetes.io/hostname: k8s-worker-03
---
apiVersion: metallb.io/v1beta1
kind: L2Advertisement
metadata:
  name: advertisel2-pool02
  namespace: metallb-system
spec:
  ipAddressPools:
  - pool02-traefik
  nodeSelectors:
  - kubernetes.io/hostname: k8s-worker-01
  - kubernetes.io/hostname: k8s-worker-02
  - kubernetes.io/hostname: k8s-worker-03
---
apiVersion: metallb.io/v1beta1
kind: L2Advertisement
metadata:
  name: advertisel2-pool03
  namespace: metallb-system
spec:
  ipAddressPools:
  - pool03
  nodeSelectors:
  - kubernetes.io/hostname: k8s-worker-01
  - kubernetes.io/hostname: k8s-worker-02
  - kubernetes.io/hostname: k8s-worker-03